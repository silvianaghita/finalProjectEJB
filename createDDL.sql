CREATE TABLE PLATFORMUSER (ID INTEGER AUTO_INCREMENT NOT NULL, DTYPE VARCHAR(31), ADDRESS VARCHAR(255), EMAIL VARCHAR(255), PASSWORD VARCHAR(255), USERNAME VARCHAR(255), PRIMARY KEY (ID))
CREATE TABLE CLIENTB2B (ID INTEGER NOT NULL, BUSINESSNAME VARCHAR(255), CUI VARCHAR(255), SUBSCRIBED TINYINT(1) default 0, VISIBILITY TINYINT(1) default 0, PRIMARY KEY (ID))
CREATE TABLE CLIENTB2C (ID INTEGER NOT NULL, CNP VARCHAR(255), FIRSTNAME VARCHAR(255), LASTNAME VARCHAR(255), REGISTERDATE DATE, PRIMARY KEY (ID))
CREATE TABLE CLIENTORDER (ID INTEGER AUTO_INCREMENT NOT NULL, DATE DATE, ORDERNUMBER INTEGER, CLIENTB2C_ID INTEGER, PRIMARY KEY (ID))
CREATE TABLE ORDERITEM (ID INTEGER AUTO_INCREMENT NOT NULL, PRICE INTEGER, QUANTITY INTEGER, ORDER_ID INTEGER, stockClientB2B_id INTEGER, PRIMARY KEY (ID))
CREATE TABLE PROMO (ID INTEGER AUTO_INCREMENT NOT NULL, DISCOUNT INTEGER, ENDDATE DATE, STARTDATE DATE, STOCKSUPPLIER_ID INTEGER, PRIMARY KEY (ID))
CREATE TABLE STOCKCLIENTB2B (ID INTEGER AUTO_INCREMENT NOT NULL, ACTIVE TINYINT(1) default 0, LIMIT INTEGER, PRICE INTEGER, QUANTITY INTEGER, CLIENTB2B_ID INTEGER, PRIMARY KEY (ID))
CREATE TABLE STOCKSUPPLIER (ID INTEGER AUTO_INCREMENT NOT NULL, PRICE INTEGER, QUANTITY INTEGER, STOCKCLIENTB2B_ID INTEGER, SUPPLIER_ID INTEGER, WINE_ID INTEGER, PRIMARY KEY (ID))
CREATE TABLE SUPPLIER (ID INTEGER NOT NULL, AGE INTEGER, VISIBILITY TINYINT(1) default 0, WINECELLARNAME TINYINT(1) default 0, PRIMARY KEY (ID))
CREATE TABLE WINE (ID INTEGER AUTO_INCREMENT NOT NULL, DESCRIPTION VARCHAR(255), NAME VARCHAR(255), TYPE INTEGER, VARIETY VARCHAR(255), YEAR INTEGER, PRIMARY KEY (ID))
ALTER TABLE CLIENTB2B ADD CONSTRAINT FK_CLIENTB2B_ID FOREIGN KEY (ID) REFERENCES PLATFORMUSER (ID)
ALTER TABLE CLIENTB2C ADD CONSTRAINT FK_CLIENTB2C_ID FOREIGN KEY (ID) REFERENCES PLATFORMUSER (ID)
ALTER TABLE CLIENTORDER ADD CONSTRAINT FK_CLIENTORDER_CLIENTB2C_ID FOREIGN KEY (CLIENTB2C_ID) REFERENCES PLATFORMUSER (ID)
ALTER TABLE ORDERITEM ADD CONSTRAINT FK_ORDERITEM_ORDER_ID FOREIGN KEY (ORDER_ID) REFERENCES CLIENTORDER (ID)
ALTER TABLE ORDERITEM ADD CONSTRAINT FK_ORDERITEM_stockClientB2B_id FOREIGN KEY (stockClientB2B_id) REFERENCES STOCKCLIENTB2B (ID)
ALTER TABLE PROMO ADD CONSTRAINT FK_PROMO_STOCKSUPPLIER_ID FOREIGN KEY (STOCKSUPPLIER_ID) REFERENCES STOCKSUPPLIER (ID)
ALTER TABLE STOCKCLIENTB2B ADD CONSTRAINT FK_STOCKCLIENTB2B_CLIENTB2B_ID FOREIGN KEY (CLIENTB2B_ID) REFERENCES PLATFORMUSER (ID)
ALTER TABLE STOCKSUPPLIER ADD CONSTRAINT FK_STOCKSUPPLIER_WINE_ID FOREIGN KEY (WINE_ID) REFERENCES WINE (ID)
ALTER TABLE STOCKSUPPLIER ADD CONSTRAINT FK_STOCKSUPPLIER_SUPPLIER_ID FOREIGN KEY (SUPPLIER_ID) REFERENCES PLATFORMUSER (ID)
ALTER TABLE STOCKSUPPLIER ADD CONSTRAINT FK_STOCKSUPPLIER_STOCKCLIENTB2B_ID FOREIGN KEY (STOCKCLIENTB2B_ID) REFERENCES STOCKCLIENTB2B (ID)
ALTER TABLE SUPPLIER ADD CONSTRAINT FK_SUPPLIER_ID FOREIGN KEY (ID) REFERENCES PLATFORMUSER (ID)
